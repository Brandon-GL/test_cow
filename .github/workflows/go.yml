---

# This workflow will build a golang project
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-go

name: Build and deploy Cowsay go

on:
    workflow_dispatch:
    schedule:
      - cron: "0 1 * * *"
    push:
        branches:
            - main
            - dev
env:
  ENVIRONMENT: Prod
  REGISTRY: docker.io

jobs:
    build:
        runs-on: ubuntu-24.04
        strategy:
            matrix:
                go-arch: [ 'amd64', 'arm64' ]
                go-os: [ 'linux', 'darwin', 'windows' ]

        steps:
        - name: Get Code from repo
          uses: actions/checkout@v4

        - name: Setup Go
          uses: actions/setup-go@v5
          with:
            go-version: '1.23'

        - run: |
            go init Cowsay/Meuh.go
            go tidy 
            OS=${{ matrix.go-os }} ARCH=${{ matrix.go-arch }} go build -o "
